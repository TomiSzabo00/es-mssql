
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <meta name="author" content="Dudás Ákos">
      
      
      <link rel="icon" href="../../images/favicon.ico">
      <meta name="generator" content="mkdocs-1.1.2, mkdocs-material-7.1.5">
    
    
      
        <title>Exercise 5: Kibana visualizations - BMEVIAUMB00 Business Intelligence Laboratory</title>
      
    
    
      <link rel="stylesheet" href="../../assets/stylesheets/main.bde7dde4.min.css">
      
        
        <link rel="stylesheet" href="../../assets/stylesheets/palette.ef6f36e2.min.css">
        
          
          
          <meta name="theme-color" content="#ef5552">
        
      
    
    
    
      
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,700%7CRoboto+Mono&display=fallback">
        <style>:root{--md-text-font-family:"Roboto";--md-code-font-family:"Roboto Mono"}</style>
      
    
    
    
      <link rel="stylesheet" href="../../extra-material-theme.css">
    
    
      
    
    
  </head>
  
  
    
    
    
    
    
    <body dir="ltr" data-md-color-scheme="" data-md-color-primary="red" data-md-color-accent="red">
  
    
    <script>function __prefix(e){return new URL("../..",location).pathname+"."+e}function __get(e,t=localStorage){return JSON.parse(t.getItem(__prefix(e)))}</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#exercise-5-kibana-visualizations" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../.." title="BMEVIAUMB00 Business Intelligence Laboratory" class="md-header__button md-logo" aria-label="BMEVIAUMB00 Business Intelligence Laboratory" data-md-component="logo">
      
  <img src="../../images/logo-bme-aut.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            BMEVIAUMB00 Business Intelligence Laboratory
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Exercise 5: Kibana visualizations
            
          </span>
        </div>
      </div>
    </div>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
      </label>
      
<div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" data-md-state="active" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
      </label>
      <button type="reset" class="md-search__icon md-icon" aria-label="Clear" tabindex="-1">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"/></svg>
      </button>
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        
<a href="https://github.com/bi-labor/es-mssql/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bi-labor/es-mssql
  </div>
</a>
      </div>
    
  </nav>
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-tabs__inner md-grid">
    <ul class="md-tabs__list">
      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../.." class="md-tabs__link">
        BI lab
      </a>
    </li>
  

      
        
  
  
    
  


  
  
  
    <li class="md-tabs__item">
      <a href="../" class="md-tabs__link md-tabs__link--active">
        Elasticsearch
      </a>
    </li>
  

      
        
  
  


  
  
  
    <li class="md-tabs__item">
      <a href="../../mssql/" class="md-tabs__link">
        MSSQL
      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../.." title="BMEVIAUMB00 Business Intelligence Laboratory" class="md-nav__button md-logo" aria-label="BMEVIAUMB00 Business Intelligence Laboratory" data-md-component="logo">
      
  <img src="../../images/logo-bme-aut.png" alt="logo">

    </a>
    BMEVIAUMB00 Business Intelligence Laboratory
  </label>
  
    <div class="md-nav__source">
      
<a href="https://github.com/bi-labor/es-mssql/" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    bi-labor/es-mssql
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_1" type="checkbox" id="__nav_1" >
      
      <label class="md-nav__link" for="__nav_1">
        BI lab
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="BI lab" data-md-level="1">
        <label class="md-nav__title" for="__nav_1">
          <span class="md-nav__icon md-icon"></span>
          BI lab
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../.." class="md-nav__link">
        Elasticsearch & MSSQL
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../GitHub/" class="md-nav__link">
        Submitting your work (GitHub)
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../GitHub-Actions/" class="md-nav__link">
        GitHub Actions
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../FAQ/" class="md-nav__link">
        FAQ
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../GitHub-credentials/" class="md-nav__link">
        GitHub credentials in university labs
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_2" type="checkbox" id="__nav_2" checked>
      
      <label class="md-nav__link" for="__nav_2">
        Elasticsearch
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="Elasticsearch" data-md-level="1">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Elasticsearch
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../" class="md-nav__link">
        Elasticsearch laboratory
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exercise1/" class="md-nav__link">
        Exercise 1: Get the starter solution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exercise2/" class="md-nav__link">
        Exercise 2: Initializing Elasticsearch and Kibana
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exercise3/" class="md-nav__link">
        Exercise 3: Initializing Elasticsearch
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exercise4/" class="md-nav__link">
        Exercise 4: Elasticsearch queries
      </a>
    </li>
  

          
            
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" data-md-toggle="toc" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          Exercise 5: Kibana visualizations
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        Exercise 5: Kibana visualizations
      </a>
      
        
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-an-index-pattern" class="md-nav__link">
    Create an Index pattern
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-how-many-people-did-kfc-hire-each-month-vertical-bar-chart" class="md-nav__link">
    a) How many people did KFC hire each month? (vertical bar chart)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#b-show-the-gender-and-age-distribution-of-the-workers-pie-chart" class="md-nav__link">
    b) Show the gender and age distribution of the workers! (pie chart)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c-show-the-distribution-of-the-workers-locations-on-a-map" class="md-nav__link">
    c) Show the distribution of the workers' locations on a map!
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exercise6/" class="md-nav__link">
        Exercise 6: Elasticsearch queries — practice
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../exercise7/" class="md-nav__link">
        Exercise 7: Kibana visualizations — practice
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
        <input class="md-nav__toggle md-toggle" data-md-toggle="__nav_3" type="checkbox" id="__nav_3" >
      
      <label class="md-nav__link" for="__nav_3">
        MSSQL
        <span class="md-nav__icon md-icon"></span>
      </label>
      <nav class="md-nav" aria-label="MSSQL" data-md-level="1">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          MSSQL
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/" class="md-nav__link">
        Microsoft SQL Server Business Intelligence
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/exercise1/" class="md-nav__link">
        Exercise 1: Get the starter solution
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/exercise2/" class="md-nav__link">
        Exercise 2: Create database and table for users data
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/exercise3/" class="md-nav__link">
        Exercise 3: Import the users dataset using Integration Services
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/exercise4/" class="md-nav__link">
        Exercise 4: Report about users
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/exercise5/" class="md-nav__link">
        Exercise 5: Import the books and ratings datasets using Integration Services
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/exercise6/" class="md-nav__link">
        Exercise 6: Create a report listing the highest rated books
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/bi-software-intro/" class="md-nav__link">
        Using MSSQL BI tools
      </a>
    </li>
  

          
            
  
  
  
    <li class="md-nav__item">
      <a href="../../mssql/bme-cloud-vm-usage/" class="md-nav__link">
        Using BME Cloud
      </a>
    </li>
  

          
        </ul>
      </nav>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    
<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#create-an-index-pattern" class="md-nav__link">
    Create an Index pattern
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#a-how-many-people-did-kfc-hire-each-month-vertical-bar-chart" class="md-nav__link">
    a) How many people did KFC hire each month? (vertical bar chart)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#b-show-the-gender-and-age-distribution-of-the-workers-pie-chart" class="md-nav__link">
    b) Show the gender and age distribution of the workers! (pie chart)
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#c-show-the-distribution-of-the-workers-locations-on-a-map" class="md-nav__link">
    c) Show the distribution of the workers' locations on a map!
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          <div class="md-content" data-md-component="content">
            <article class="md-content__inner md-typeset">
              
                
                  <a href="https://github.com/bi-labor/es-mssql/edit/master/docs/elasticsearch/exercise5.md" title="Edit this page" class="md-content__button md-icon">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20.71 7.04c.39-.39.39-1.04 0-1.41l-2.34-2.34c-.37-.39-1.02-.39-1.41 0l-1.84 1.83 3.75 3.75M3 17.25V21h3.75L17.81 9.93l-3.75-3.75L3 17.25z"/></svg>
                  </a>
                
                
                <h1 id="exercise-5-kibana-visualizations">Exercise 5: Kibana visualizations<a class="headerlink" href="#exercise-5-kibana-visualizations" title="Permanent link">&para;</a></h1>
<p>The purpose of this exercise is to use the data visualization capabilities of <em>Kibana</em>.</p>
<div class="admonition note">
<p class="admonition-title">Screenshots</p>
<p>The following exercises will ask you to create visualizations, then export their Kibana description as JSON, and create a screenshot of the visualization itself. When creating the screenshot, make sure the <strong>entire visualization with the legend</strong> is visible.</p>
</div>
<h2 id="create-an-index-pattern">Create an Index pattern<a class="headerlink" href="#create-an-index-pattern" title="Permanent link">&para;</a></h2>
<p>Our first step is to tell <em>Kibana</em> which indexes it should consider when creating the visualizations.</p>
<ol>
<li>
<p>Click on the <em>Visualize</em> tab on the left side menu.</p>
<p><img alt="Kibana Visualize" src="../images/kibana-visualize.png" /></p>
<p>When opening this page the first time, you will be redirected to the <em>Management</em> / <em>Index patterns</em> configuration page to create a new <em>index pattern</em>.</p>
</li>
<li>
<p>Create a new index pattern. Enter the index name — <code>salaries</code> — as the index pattern. Make sure <em>Kibana</em> says <em>Success! Your pattern matches 1 index</em>, and click <em>Next step</em>.</p>
<p><img alt="Kibana index pattern" src="../images/kibana-index-pattern-1.png" /></p>
</li>
<li>
<p>Select <em>I don't want to use the Time Filter</em> as <em>Time Filter field name</em> since we will not use this function during the exercises. Click on <em>Create index pattern</em>.</p>
<p><img alt="Kibana index pattern" src="../images/kibana-index-pattern-2.png" /></p>
</li>
<li>
<p>Now click on the <em>Visualize</em> tab again to see the following.</p>
<p><img alt="Kibana create the first visualization" src="../images/kibana-create-first-visualization.png" /></p>
</li>
</ol>
<h2 id="a-how-many-people-did-kfc-hire-each-month-vertical-bar-chart">a) How many people did KFC hire each month? (vertical bar chart)<a class="headerlink" href="#a-how-many-people-did-kfc-hire-each-month-vertical-bar-chart" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Click on the <em>Create new visualization</em> button on the <em>Visualize</em> tab, and select <em>Vertical Bar</em>.</p>
<p><img alt="Kibana vertical bar" src="../images/kibana-vertical-bar.png" /></p>
</li>
<li>
<p>Select the previously created <code>salaries</code> index pattern as the search source.</p>
<p><img alt="Kibana search source" src="../images/kibana-search-source.png" /></p>
</li>
<li>
<p>Under the <em>Metrics</em> setting, set <em>People hired</em> as the <em>Custom Label</em>. (Expand the <em>Y-axis</em> label to get the configuration options.)</p>
<p><img alt="Kibana Metrics" src="../images/kibana-a-metrics.png" /></p>
</li>
<li>
<p>Under the <em>Buckets</em> setting, click <em>Add</em>, then select <em>X-Axis</em>, and set the following.</p>
<ul>
<li><em>Aggregation</em> should be <em>Date Histogram</em></li>
<li><em>Field</em> should be <code>hired</code></li>
<li><em>Minimum interval</em> should be <em>Month</em></li>
<li><em>Custom Label</em> should be <em>Month</em>.</li>
</ul>
<p><img alt="Kibana Buckets" src="../images/kibana-a-buckets.png" /></p>
</li>
<li>
<p>In the top left corner, click on the <em>Add a filter</em> link and filter for company "KFC" (with the appropriate prefix): use the following settings to create the filter. Click on <em>Save</em> to save the filter.</p>
<p><img alt="Kibana filter" src="../images/kibana-a-filter.png" /></p>
</li>
<li>
<p>The configuration of the visualization is now ready. You see the preview of the visualization. Click on the <em>Save</em> button in the top right corner to save the visualization as <code>5_a</code>.</p>
<p><img alt="Kibana save visualization" src="../images/kibana-a-save.png" /></p>
<div class="admonition example">
<p class="admonition-title">SUBMISSION</p>
<p>Create a screenshot of the visualization preview and save it as <code>ex5-a.png</code>. Make sure that the filter, including your Neptun code, is visible on this screenshot.</p>
<p>Click on the <em>Stack Management</em> tab in the left side menu, and choose the <em>Saved Objects</em> option. Select and export the visualization you just saved — no need to include related objects. Save the downloaded file as <code>ex5-a.ndjson</code>.</p>
<p><img alt="Kibana export" src="../images/kibana-export.png" /></p>
</div>
</li>
</ol>
<h2 id="b-show-the-gender-and-age-distribution-of-the-workers-pie-chart">b) Show the gender and age distribution of the workers! (pie chart)<a class="headerlink" href="#b-show-the-gender-and-age-distribution-of-the-workers-pie-chart" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Go back to the <em>Visualize</em> tab. It will likely load the last visualization. Click on the tab button again to get back to the landing page of all visualizations.</p>
</li>
<li>
<p>Click on the <em>Create visualization</em> button on the <em>Visualize</em> tab, and select <em>Pie</em>.</p>
</li>
<li>
<p>Select the previously created <code>salaries</code> index pattern as the search source.</p>
</li>
<li>
<p>Under the <em>Buckets</em> setting, click <em>Add</em> and select <em>Split Slices</em> and set a <em>Terms</em> aggregation on the <code>gender</code> field. As <em>Custom Label</em> set <em>Gender</em>.</p>
<p><img alt="Kibana Buckets" src="../images/kibana-b-buckets-1.png" /></p>
</li>
<li>
<p>Within the <em>Buckets</em> configuration area, click on the <em>Add</em> button again and select <em>Split Slices</em> with a <em>Range</em> aggregation on the <code>age</code> field with the following ranges. Also, add a custom label <em>Age</em>.</p>
<p><img alt="Kibana Buckets" src="../images/kibana-b-buckets-2.png" /></p>
</li>
</ol>
<div class="admonition example">
<p class="admonition-title">SUBMISSION</p>
<p>Create a screenshot of the resulting visualization and save it as <code>ex5-b.png</code>. Use the previous method to save and export the visualization. Save the exported file as <code>ex5-b.ndjson</code>.</p>
</div>
<h2 id="c-show-the-distribution-of-the-workers-locations-on-a-map">c) Show the distribution of the workers' locations on a map!<a class="headerlink" href="#c-show-the-distribution-of-the-workers-locations-on-a-map" title="Permanent link">&para;</a></h2>
<ol>
<li>
<p>Create a new visualization of type <em>Region Map</em>. Select the previously created <code>salaries</code> index pattern as the search source.</p>
</li>
<li>
<p>Under the <em>Buckets</em> setting, add a <em>Shape field</em> with <em>Terms</em> aggregation on the <code>address.state</code> field. Make sure to set the <em>Size</em> value to at least 50.</p>
<p><img alt="Kibana Buckets" src="../images/kibana-c-buckets.png" /></p>
</li>
<li>
<p>Under <em>Options</em> / <em>Layer Settings</em> select <em>USA States</em> as <em>Vector map</em> and <em>FIPS 5-2 alpha code</em> as <em>Join field</em>.</p>
<p><img alt="Kibana Options" src="../images/kibana-c-options.png" /></p>
</li>
</ol>
<div class="admonition example">
<p class="admonition-title">SUBMISSION</p>
<p>Create a screenshot of the result and save it as <code>ex5-c.png</code>. Save and export the visualization. Save the exported file as <code>ex5-c.ndjson</code>.</p>
</div>
                
              
              
                


              
            </article>
          </div>
        </div>
        
          <a href="#" class="md-top md-icon" title="Back to top" data-md-component="top" data-md-state="hidden">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"/></svg>
          </a>
        
      </main>
      
        <!--
  Copyright (c) 2016-2021 Martin Donath <martin.donath@squidfunk.com>

  Permission is hereby granted, free of charge, to any person obtaining a copy
  of this software and associated documentation files (the "Software"), to
  deal in the Software without restriction, including without limitation the
  rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
  sell copies of the Software, and to permit persons to whom the Software is
  furnished to do so, subject to the following conditions:

  The above copyright notice and this permission notice shall be included in
  all copies or substantial portions of the Software.

  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
  IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
  FITNESS FOR A PARTICULAR PURPOSE AND NON-INFRINGEMENT. IN NO EVENT SHALL THE
  AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
  LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
  FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
  IN THE SOFTWARE.
-->



<!-- Footer -->
<footer class="md-footer">

  <!-- Link to previous and/or next page -->
  
    <nav
      class="md-footer__inner md-grid"
      aria-label="Footer"
    >

      <!-- Link to previous page -->
      
        <a
          href="../exercise4/"
          class="md-footer__link md-footer__link--prev"
          rel="prev"
        >
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12z"/></svg>
          </div>
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Previous
              </span>
              Exercise 4: Elasticsearch queries
            </div>
          </div>
        </a>
      

      <!-- Link to next page -->
      
        <a
          href="../exercise6/"
          class="md-footer__link md-footer__link--next"
          rel="next"
        >
          <div class="md-footer__title">
            <div class="md-ellipsis">
              <span class="md-footer__direction">
                Next
              </span>
              Exercise 6: Elasticsearch queries — practice
            </div>
          </div>
          <div class="md-footer__button md-icon">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M4 11v2h12l-5.5 5.5 1.42 1.42L19.84 12l-7.92-7.92L10.5 5.5 16 11H4z"/></svg>
          </div>
        </a>
      
    </nav>
  

  <!-- Further information -->
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">

      <!-- Copyright and theme information -->
      <div class="md-footer-copyright">
        
          <div class="md-footer-copyright__highlight">
            Copyright &copy; BME VIK AUT
          </div>
        
      </div>

      <!-- Social links -->
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    <script id="__config" type="application/json">{"base": "../..", "features": ["navigation.tabs", "navigation.instant", "navigation.top"], "translations": {"clipboard.copy": "Copy to clipboard", "clipboard.copied": "Copied to clipboard", "search.config.lang": "en", "search.config.pipeline": "trimmer, stopWordFilter", "search.config.separator": "[\\s\\-]+", "search.placeholder": "Search", "search.result.placeholder": "Type to start searching", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.term.missing": "Missing"}, "search": "../../assets/javascripts/workers/search.d351de03.min.js", "version": null}</script>
    
    
      <script src="../../assets/javascripts/bundle.a1609d9a.min.js"></script>
      
    
  </body>
</html>